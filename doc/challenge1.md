# Challenge 1: Recovery of Human Body Scans

There are two tracks:

  - Track 1: Recovery of large regions
  - Track 2: Recovery of fine details

with two complementary datasets.

## Dataset splits

In each track, the data is split into train/test/eval sets.
In the first stage of the the competition, the train/test sets are provided.
They contain only the ground-truth shapes, `Y`.
The partial data, `X` must be generated by the participants.
The eval set is provided at a later stage of the competition to generate the
submission for the final evaluation.
In this set, the ground-truth shapes, `Y`, are kept secret until the end of the
competition.
Only some pregenerated partial data, `X`, is shared.

## Track 1: Recovery of Large Regions

Given a partial human body scan, `X`, the goal is to recover the complete scan,
`Y`.

### Training data

For training, a set of complete scans, `Y`, is provided.
The partial scans, `X`, must be generated by the participants.

Detected 3D landmark positions are provided as additional metadata.
It is used to generate partial data and can also be used in other ways during
training.
However, the 3D landmarks are not provided during the evaluation.

The data files are arranged in the following directory structure:

```
  train/
    170410-001-m-r9iu-df44-low-res-result/
      170410-001-m-r9iu-df44-low-res-result_normalized.npz
      landmarks3d.txt
    .../
```

For each scan, there is one subdirectory with a unique name, e.g.
`170410-007-f-1moq-b682-low-res-result`.
The files are:

* `*.npz`: The raw scan as a textured mesh. Stored in a numpy npz archive.
* `landmarks3d.txt`: 3D body landmark positions in text format.

### Evaluation data

For the final evaluation:

* the reference mesh `Y` is the raw scan,
* the partial views `X` are generated directly from `Y`.

See below for details on the file formats.

## Track 2: Recovery of Fine Details

The dataset has the following directory structure:

```
  train/
    170926-001-fitness-run-sbt1-d8f6-low-res-result/
      fitted_textured.npz
      fusion_textured.npz
      landmarks3d.txt
```

For each sample, the data is under a subdirectory with a unique name,
e.g. `170926-001-fitness-run-sbt1-d8f6-low-res-result/`.
The data files are:

* `fitted_textured.npz`:
  The reference mesh with details. It is obtained by fitting the SMPL-X body
  model to a body scan and transferring the texture.
* `fusion_textured.npz`:
  The simulated body scan. This is a texture mesh obtained from the fitted body
  model mesh by simulating the scanning process in software. It is less
  detailed and contains artefacts similar to a real 3D scan.
* `landmarks3d.txt`:
  The 3D positions of the 3D landmarks. Common to both meshes.

Both meshes are aligned and in the same frame of reference.

During the final evaluation:

* the reference mesh `Y` is `fitted_textured.npz`,
* the partial views `X` are generated from `fusion_textured.npz`.

See below for details on the file formats.

## 3D body landmarks

The body landmarks are detected automatically on each scan. They are provided
to generate the partial data but can also be used as part of the proposed
method.
They comprise standard body joints and other keypoints on the body (eyes, nose,
ears...). The detection of most landmarks is stable except for the finger
joints which vary in accuracy.

## Data format

### Meshes

The body scans are textured 3D meshes stored in a numpy npz archive.

Load and access arrays from an npz file in Python with

```python
  import numpy as np
  mesh = np.load("name.npz", allow_pickle=True)
  mesh["vertices"]
  mesh["faces"]
  # ...
```

The following fields define a mesh:

* `vertices`, float (N, 3):
    The 3D positions of the vertices. Variable number of vertices across the
    meshes.
* `faces`, int (20000, 3):
    The vertex indices defining the faces in 3D space (i.e. triplets of indices
    into the `vertices` array). Fixed number of faces (20000) for all meshes.
* `texcoords`, float (Nt, 2):
    The 2D positions of the vertices in the texture atlas (Nt > N).
* `texcoords_indices`, int (20000, 3):
    The vertex indices defining the faces in the UV space (2D texture image)
    (i.e. triplets of indices into the `texcoords` array). Fixed number of
    faces (20000) for all meshes
* `texture`, uint8 (2048, 2048, 3):
    The RGB texture image.

(Other existing fields are either empty and/or should not be relied upon.)

### Landmarks

The landmarks as stored in space-separated text file with columns

```
  name x y z
```

where `name` is the name of the landmark, and `(x, y, z)` is its 3D position in
the frame of reference the scan or meshes.

For example,

```
  elbow_left 1.234 0.123 0.389
```
